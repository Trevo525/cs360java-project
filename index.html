<!DOCTYPE html>
<html>
<link href="style.css" rel="stylesheet" type="text/css">

<div class="boxed">
    <font size="30" align="center">Java Visualization</font>
</div>

<body>
<div class= "TextBox">
    <h1>
        <center>Java Visualization: Loops</center>
    </h1>

    <hr style="border-top: dotted 2.5px;" />

    <div id = "Output"></div>
</div>

<div class = "Output">
    <h1>
        <center>Output</center>
    </h1>
   
    <hr style="border-top: dotted 2.5px;" />

    <div id= "output1"></div>
    <div id= "test1"></div>
</div>

<div class = "previous" onclick="Previous()">
        <button class="Pbutton">Previous</button>
</div>
<div class = "next" onclick="Next()">
        <button class="Nbutton">Next</button>
</div>

<div class="dropdown">
        <button class="dropbtn">Java Visual Type:</button>
        <div class="dropdown-content">
          <button href="#" onclick="loops()">Loops</button>
	  <!-- <button href="#">Sorting</button> <F9>-->
          <button href="#"  onclick="Conditionals()">Conditionals</button>
        </div>
 </div>

<script src="https://d3js.org/d3.v5.js"></script>
<script>
    var words, repeat, repeatStart,repeatEnd,currentNum,numItems, type;
    var answers = [];

    loops();

    function loops()
    {
        document.getElementById("Output").innerHTML = "";
        words = ["for(int i = 0; i < 5; i++){", "&emsp;if(i%2 == 0){", "&emsp;&emsp;System.out.println(i);", "&emsp;}", "}", ""];
        answers = ["2,4","2,2","2,0"];
        repeats = 5;
        repeatStart = 0;
        repeatEnd = 3;
        type = "loops";

        words.forEach(show);
        currentNum = 0;
        numItems = words.length;

    }

    function Conditionals()
    {
        document.getElementById("Output").innerHTML = "";
        words = ["int num = 10", "If(num == 5){" ,"&emsp;System.out.println('true!');", "}else{" ,"&emsp;System.out.println('its not five!');", "}", ""];
        answers = ["4, its not five!"];
        repeats = 1;
        words.forEach(show);
        currentNum = 0;
        numItems = words.length;
        type = "Conditionals";

    }

    function show(item, index){
        var div = document.createElement('div');
        div.innerHTML = index + "-&emsp;" + item;
        if(index == 0)
        {
            div.setAttribute("class", "Code selected");
        }
        else
        {
            div.setAttribute("class", "Code");
        }

        div.setAttribute("id", index)

        document.getElementById("Output").appendChild(div);     
    }

    function Next()
    {
        document.getElementById(currentNum.toString()).setAttribute("class", "Code");
        currentNum++;

        if(answers.length != 0 && currentNum == answers[answers.length -1].split(",", 1))
        {
            if(type == "loops")
            {
                if(repeats % 2 == 1){
                    var ans = answers.pop();
                    var data = ans.split(",", 2);
                    document.getElementById("output1").innerHTML = data[1];
                }

            }

            if(type == "Conditionals")
            {
                var ans = answers.pop();
                var data = ans.split(",", 2);
                document.getElementById("output1").innerHTML = data[1];
            }

        }

        if(currentNum >= numItems)
        {
            currentNum = 0;
        }
        if(repeats-1 != 0)
        {   
            if(currentNum > repeatEnd)
            {
                currentNum = repeatStart;
                repeats--;
            }
        }

        document.getElementById(currentNum.toString()).setAttribute("class", "Code selected");
    }

    function Previous()
    {
        document.getElementById(currentNum.toString()).setAttribute("class", "Code");
        if(currentNum != 0){
            currentNum--;
        }
        document.getElementById(currentNum.toString()).setAttribute("class", "Code selected");
    }

    
 

</script>

</body>
</html>
